{% extends "layout.html" %}
{% block title %} Create Event++ {% endblock %}

{% block body %}
<div class="button_header">
    <button type="button" id="monthly" class="BlackButton" onclick="location.href='/monthly_calendar'">Monthly</button>

    <button type="button" id="weekly" class="BlackButton" onclick="location.href='/weekly_calendar'">Weekly</button>
       
    <div class="right_head_buttons">
      {% block navbar %}
      {{ super() }}
      {% endblock %}
    </div>
</div>

<h1 class="event_h1">
    Create New Event
</h1>
<div class="event_add_container">
    <form action="/new_event" method="POST">

        <label for="title">Title:</label><br>
        <input type="text" id="title" name="title" class="input-field" required><br>

        <label for="description">Description:</label><br>
        <textarea id="description" name="description" class="input-field"></textarea><br>

        <label for="start_time">Start Time:</label><br>
        <input type="datetime-local" id="start_time" name="start_time" class="input-field" required><br>

        <label for="end_time">End Time:</label><br>
        <input type="datetime-local" id="end_time" name="end_time" class="input-field" required><br>

        <label for="location">Location:</label><br>
        <input type="text" id="location" name="location" class="input-field"><br>

        <label for="color">Color:</label><br>
        <div class="color_button_cotainer"> 
            <button type="button" class="black_button_for_event" onclick=" set_color_button('#000000')"></button>
            <button type="button" class="red_button_for_event" onclick=" set_color_button('#820000')"></button>
            <button type="button" class="green_button_for_event" onclick=" set_color_button('#008200')"></button>
            <button type="button" class="blue_button_for_event" onclick=" set_color_button('#000082')"></button>
            <button type="button" class="yellow_button_for_event" onclick=" set_color_button('#828200')"></button>
        <input type="hidden" id="select_color" name="color">
        </div>
        
    <label for="type">Type:</label><br>
    <select class="event_select" id="type" name="type" class="event_select">
        <option value="EVENT"  class="event_select">Event</option>
        <option value="REMINDER"  class="event_select">Reminder</option>
        <option value="BIRTHDAY"  class="event_select"> Birthday</option>
    </select>
    <br>
        <input type="submit" value="Create Event" class="BlackButton">
    </form>
</div>

<script>
    let now = new Date();
    function start_default_time(){
        return now.toISOString().slice(0,16);
    }

    function end_default_time(){
        let one_hour_plus = new Date(now.getTime() + (60 * 60 * 1000));
        return one_hour_plus.toISOString().slice(0,16);
    }

    document.getElementById("start_time").value = start_default_time(); 
    document.getElementById("end_time").value = end_default_time();

    function set_color_button(color){
        document.getElemetById("select_color").value = 'color';
    }


</script>


{% endblock %}